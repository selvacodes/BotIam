{
  "version": 3,
  "sources": ["../user.route.ts"],
  "sourcesContent": ["import { Request, Response } from 'express'\nimport express from 'express'\nimport { validateInputSchema } from './validate.middleware';\nimport { makeBodySchema, makeParamsSchema, sendResponse } from './utils';\nimport * as BL from './user.operations';\nimport { RawUserSchema, RawUser, IdSchema, RawUserPartialSchema } from \"./user.schema\";\n\nimport bodyParser from 'body-parser'\nconst jsonParser = bodyParser.json()\n\nexport const userRouter = express.Router()\n\nuserRouter.post(\"/\", jsonParser, validateInputSchema(makeBodySchema(RawUserSchema)), async (req: Request, res: Response) => {\n  const userToAdd = req.body as RawUser;\n  const toReturn = await BL.addUser(userToAdd)\n  res.json(toReturn);\n})\n\nuserRouter.get(\"/\", async (_req: Request, res: Response) => {\n  const toReturn = await BL.getAllUsers()\n  sendResponse(toReturn, res)\n})\n\nuserRouter.get(\"/:id\", validateInputSchema(makeParamsSchema(IdSchema)), async (req: Request, res: Response) => {\n  const toReturn = await BL.getuser(req.params.id)\n  sendResponse(toReturn, res)\n})\n\nuserRouter.delete(\"/:id\", validateInputSchema(makeParamsSchema(IdSchema)), async (req: Request, res: Response) => {\n  const toReturn = await BL.deleteUser(req.params.id)\n  sendResponse(toReturn, res)\n})\n\nuserRouter.patch(\"/:id\", jsonParser, validateInputSchema(makeBodySchema(RawUserPartialSchema)), validateInputSchema(makeParamsSchema(IdSchema)), async (req: Request, res: Response) => {\n  const toReturn = await BL.patchUser(req.params.id, req.body)\n  sendResponse(toReturn, res)\n})\n\nexport const rootRouter = express.Router()\n\nrootRouter.get(\"/users\", async (_req: Request, res: Response) => {\n  const toReturn = await BL.getAllUsers()\n  sendResponse(toReturn, res)\n})\n\nrootRouter.get(\"/\", (req: Request, res: Response) => {\n  res.send(\"IAM alive and well\")\n})\n\nrootRouter.get(\"/alive\", (req: Request, res: Response) => {\n  res.send(\"IAM alive and well\")\n})"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,IAAAA,kBAAoB;AACpB,sBAAoC;AACpC,mBAA+D;AAC/D,SAAoB;AACpB,kBAAuE;AAEvE,yBAAuB;AACvB,MAAM,aAAa,mBAAAC,QAAW,KAAK;AAE5B,MAAM,aAAa,gBAAAC,QAAQ,OAAO;AAEzC,WAAW,KAAK,KAAK,gBAAY,yCAAoB,6BAAe,yBAAa,CAAC,GAAG,OAAO,KAAc,QAAkB;AAC1H,QAAM,YAAY,IAAI;AACtB,QAAM,WAAW,MAAM,GAAG,QAAQ,SAAS;AAC3C,MAAI,KAAK,QAAQ;AACnB,CAAC;AAED,WAAW,IAAI,KAAK,OAAO,MAAe,QAAkB;AAC1D,QAAM,WAAW,MAAM,GAAG,YAAY;AACtC,iCAAa,UAAU,GAAG;AAC5B,CAAC;AAED,WAAW,IAAI,YAAQ,yCAAoB,+BAAiB,oBAAQ,CAAC,GAAG,OAAO,KAAc,QAAkB;AAC7G,QAAM,WAAW,MAAM,GAAG,QAAQ,IAAI,OAAO,EAAE;AAC/C,iCAAa,UAAU,GAAG;AAC5B,CAAC;AAED,WAAW,OAAO,YAAQ,yCAAoB,+BAAiB,oBAAQ,CAAC,GAAG,OAAO,KAAc,QAAkB;AAChH,QAAM,WAAW,MAAM,GAAG,WAAW,IAAI,OAAO,EAAE;AAClD,iCAAa,UAAU,GAAG;AAC5B,CAAC;AAED,WAAW,MAAM,QAAQ,gBAAY,yCAAoB,6BAAe,gCAAoB,CAAC,OAAG,yCAAoB,+BAAiB,oBAAQ,CAAC,GAAG,OAAO,KAAc,QAAkB;AACtL,QAAM,WAAW,MAAM,GAAG,UAAU,IAAI,OAAO,IAAI,IAAI,IAAI;AAC3D,iCAAa,UAAU,GAAG;AAC5B,CAAC;AAEM,MAAM,aAAa,gBAAAA,QAAQ,OAAO;AAEzC,WAAW,IAAI,UAAU,OAAO,MAAe,QAAkB;AAC/D,QAAM,WAAW,MAAM,GAAG,YAAY;AACtC,iCAAa,UAAU,GAAG;AAC5B,CAAC;AAED,WAAW,IAAI,KAAK,CAAC,KAAc,QAAkB;AACnD,MAAI,KAAK,oBAAoB;AAC/B,CAAC;AAED,WAAW,IAAI,UAAU,CAAC,KAAc,QAAkB;AACxD,MAAI,KAAK,oBAAoB;AAC/B,CAAC;",
  "names": ["import_express", "bodyParser", "express"]
}
